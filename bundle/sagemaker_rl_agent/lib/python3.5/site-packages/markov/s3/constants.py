'''This module contains all s3 related prefix, key, and local path constants'''

import os

from enum import Enum

# custom file path
CUSTOM_FILES_PATH = "./custom_files"

# F1 constants
F1_RACE_TYPE = "F1"
F1_SHELL_USERS_LIST = ["TataCalde", "RIC3", "SheBangsTheDrums1989"]

############################
# reward function download #
############################
REWARD_FUCTION_LOCAL_PATH_FORMAT = os.path.join(CUSTOM_FILES_PATH,
                                                "{}/customer_reward_function.py")

##################################
# hyperparameter upload/download #
##################################
HYPERPARAMETER_S3_POSTFIX = "ip/hyperparameters.json"
HYPERPARAMETER_LOCAL_PATH_FORMAT = os.path.join(CUSTOM_FILES_PATH,
                                                "{}/hyperparameters.json")

###########################
# model metadata download #
###########################
MODEL_METADATA_S3_POSTFIX = "model/model_metadata.json"
# for single agent, {} should be replaced by 'agent'
# for multi agent, {} should be replaced by 'agent_0' for the first agent
MODEL_METADATA_LOCAL_PATH_FORMAT = os.path.join(CUSTOM_FILES_PATH,
                                                "{}/model_metadata.json")

#################
# yaml download #
#################
# replace {} with yaml file name
YAML_LOCAL_PATH_FORMAT = os.path.join(CUSTOM_FILES_PATH, "{}")

class AgentType(Enum):
    '''agent types for simapp'''
    ROLLOUT = "rollout"
    EVALUATION = "evaluation"
    TOURNAMENT = "tournament"

class YamlKey(Enum):
    '''yaml key for all types of workers'''
    RACE_TYPE_YAML_KEY = "RACE_TYPE"
    RACER_NAME_YAML_KEY = "RACER_NAME"
    VIDEO_JOB_TYPE_YAML_KEY = "VIDEO_JOB_TYPE"
    LEADERBOARD_TYPE_YAML_KEY = "LEADERBOARD_TYPE"
    LEADERBOARD_NAME_YAML_KEY = "LEADERBOARD_NAME"
    CAR_COLOR_YAML_KEY = "CAR_COLOR"
    MODEL_S3_BUCKET_YAML_KEY = "MODEL_S3_BUCKET"
    MODEL_S3_PREFIX_YAML_KEY = "MODEL_S3_PREFIX"
    METRICS_S3_BUCKET_YAML_KEY = "METRICS_S3_BUCKET"
    METRICS_S3_PREFIX_YAML_KEY = "METRICS_S3_PREFIX"
    METRICS_S3_OBJECT_KEY_YAML_KEY = "METRICS_S3_OBJECT_KEY"
    MODEL_METADATA_FILE_S3_YAML_KEY = "MODEL_METADATA_FILE_S3_KEY"
    BODY_SHELL_TYPE_YAML_KEY = "BODY_SHELL_TYPE"
    DISPLAY_NAME_YAML_KEY = "DISPLAY_NAME"
    SIMTRACE_S3_BUCKET_YAML_KEY = "SIMTRACE_S3_BUCKET"
    SIMTRACE_S3_PREFIX_YAML_KEY = "SIMTRACE_S3_PREFIX"
    MP4_S3_BUCKET_YAML_KEY = "MP4_S3_BUCKET"
    MP4_S3_PREFIX_YAML_KEY = "MP4_S3_OBJECT_PREFIX"
    SAGEMAKER_SHARED_S3_BUCKET_YAML_KEY = "SAGEMAKER_SHARED_S3_BUCKET"
    SAGEMAKER_SHARED_S3_PREFIX_YAML_KEY = "SAGEMAKER_SHARED_S3_PREFIX"

EVAL_MANDATORY_YAML_KEY = [YamlKey.MODEL_S3_BUCKET_YAML_KEY.value,
                           YamlKey.MODEL_S3_PREFIX_YAML_KEY.value,
                           YamlKey.METRICS_S3_BUCKET_YAML_KEY.value,
                           YamlKey.METRICS_S3_OBJECT_KEY_YAML_KEY.value,
                           YamlKey.MODEL_METADATA_FILE_S3_YAML_KEY.value,
                           YamlKey.BODY_SHELL_TYPE_YAML_KEY.value,
                           YamlKey.CAR_COLOR_YAML_KEY.value]

TOUR_MANDATORY_YAML_KEY = [YamlKey.MODEL_S3_BUCKET_YAML_KEY.value,
                           YamlKey.MODEL_S3_PREFIX_YAML_KEY.value,
                           YamlKey.METRICS_S3_BUCKET_YAML_KEY.value,
                           YamlKey.METRICS_S3_PREFIX_YAML_KEY.value,
                           YamlKey.MODEL_METADATA_FILE_S3_YAML_KEY.value,
                           YamlKey.BODY_SHELL_TYPE_YAML_KEY.value,
                           YamlKey.DISPLAY_NAME_YAML_KEY.value,
                           YamlKey.SIMTRACE_S3_BUCKET_YAML_KEY.value,
                           YamlKey.SIMTRACE_S3_PREFIX_YAML_KEY.value,
                           YamlKey.MP4_S3_BUCKET_YAML_KEY.value,
                           YamlKey.MP4_S3_PREFIX_YAML_KEY.value]

TRAINING_MANDATORY_YAML_KEY = [YamlKey.SAGEMAKER_SHARED_S3_BUCKET_YAML_KEY.value,
                               YamlKey.SAGEMAKER_SHARED_S3_PREFIX_YAML_KEY.value,
                               YamlKey.METRICS_S3_BUCKET_YAML_KEY.value,
                               YamlKey.METRICS_S3_OBJECT_KEY_YAML_KEY.value,
                               YamlKey.MODEL_METADATA_FILE_S3_YAML_KEY.value,
                               YamlKey.BODY_SHELL_TYPE_YAML_KEY.value,
                               YamlKey.CAR_COLOR_YAML_KEY.value]
